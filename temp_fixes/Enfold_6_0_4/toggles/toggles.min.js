!function(t){"use strict";t.fn.avia_sc_toggle=function(e){var a=t(window);e=t.extend({single:".single_toggle",heading:".toggler",content:".toggle_wrap",sortContainer:".taglist"},e);return this.each((function(){var i=t(this).addClass("enable_toggles"),n=t(e.single,i),l=t(e.heading,i),o=t(e.content,i),s=t(e.sortContainer+" a",i),c=t("#av-admin-preview");function r(t){if(!t&&window.location.hash&&(t=window.location.hash),!t)return;const e=l.filter('[data-fake-id="'+t+'"]');e.length&&(e.is(".activeTitle")||e.trigger("click"),window.scrollTo(0,i.offset().top-70))}l.each((function(n){var s=t(this),r=s.hasClass("av-title-below")?s.prev(e.content,i):s.next(e.content,i),d=parseInt(s.data("slide-speed"));function g(){var e=r.offset().top,i=e-50-parseInt(t("html").css("margin-top"),10);a.scrollTop()>e&&t("html:not(:animated),body:not(:animated)").animate({scrollTop:i},d)}d=isNaN(d)?200:d,"hidden"!=r.css("visibility")&&s.addClass("activeTitle").attr("style",""),s.on("keydown",(function(t){13!==t.keyCode&&32!==t.keyCode||s.trigger("click")})),s.on("click",(function(){"hidden"!=r.css("visibility")?(r.slideUp(d,(function(){r.removeClass("active_tc").attr({style:""}),a.trigger("av-height-change"),a.trigger("av-content-el-height-changed",this),0==c.length&&location.replace(s.data("fake-id")+"-closed")})),s.removeClass("activeTitle").attr("style","")):(i.is(".toggle_close_all")&&(o.not(r).slideUp(d,(function(){t(this).removeClass("active_tc").attr({style:""}),g()})),l.removeClass("activeTitle").attr("style","")),r.addClass("active_tc"),setTimeout((function(){r.slideDown(d,(function(){i.is(".toggle_close_all")||g(),a.trigger("av-height-change"),a.trigger("av-content-el-height-changed",this)}))}),1),s.addClass("activeTitle").attr("style",""),0==c.length&&location.replace(s.data("fake-id")))}))})),s.on("click",(function(e){e.preventDefault();var a=n.filter('[data-tags~="'+t(this).data("tag")+'"]'),i=n.not('[data-tags~="'+t(this).data("tag")+'"]');s.removeClass("activeFilter"),t(this).addClass("activeFilter"),l.filter(".activeTitle").trigger("click"),a.slideDown(),i.slideUp()})),function a(){l.each((function(a){let n=t(this),l=n.attr("data-title-open"),o=n.attr("data-title"),s=n.attr("data-aria_collapsed"),c=n.attr("data-aria_expanded"),r=n.hasClass("av-title-below")?n.prev(e.content,i):n.next(e.content,i),d=!1,g=n.contents()[0].data;o||(o="***"),s||(s="Expand Toggle"),c||(c="Collapse Toggle"),d=o.indexOf("<")>=0,"hidden"!=r.css("visibility")?(l&&!d&&g!=l&&(n.contents()[0].data=l),n.attr("aria-expanded","true"),n.attr("aria-label",c),r.attr({"aria-hidden":"false",tabindex:0})):(l&&!d&&g!=o&&(n.contents()[0].data=o),n.attr("aria-expanded","false"),n.attr("aria-label",s),r.attr({"aria-hidden":"true",tabindex:-1}))})),setTimeout((function(){a()}),150)}(),r(!1),t("a").on("click",(function(){var e=t(this).attr("href");void 0!==e&&e&&r("#"+(e=e.replace(/^.*?#/,"")))})),window.onhashchange=function(t){const e=window.location.hash;e&&r(e)}}))}}(jQuery);