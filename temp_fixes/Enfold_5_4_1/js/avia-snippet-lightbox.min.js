!function(e){"use strict";e.avia_utilities=e.avia_utilities||{},e.avia_utilities.av_popup={type:"image",mainClass:"avia-popup mfp-zoom-in",tLoading:"",tClose:"",removalDelay:300,closeBtnInside:!0,closeOnContentClick:!1,midClick:!0,autoFocusLast:!1,fixedContentPos:e("html").hasClass("av-default-lightbox-no-scroll"),iframe:{patterns:{youtube:{index:"youtube.com/watch",id:function(e){var a=e.match(/[\\?\\&]v=([^\\?\\&]+)/);return a&&a[1]?a[1]+e.split("/watch")[1]:null},src:"//www.youtube.com/embed/%id%"},vimeo:{index:"vimeo.com/",id:function(e){var a=e.match(/(https?:\/\/)?(www.)?(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/);return a&&a[5]?a[5]+"?"+e.split("?")[1]:null},src:"//player.vimeo.com/video/%id%"}}},image:{titleSrc:function(a){var t=a.el.attr("title");if(t||(t=a.el.find("img").attr("title")),t||(t=a.el.parent().next(".wp-caption-text").html()),void 0!==t)return t;if(!e("body").hasClass("avia-mfp-show-alt-text"))return"";var i=a.el.attr("alt");return void 0!==i||void 0!==(i=a.el.find("img").attr("alt"))?i:""}},gallery:{tPrev:"",tNext:"",tCounter:"%curr% / %total%",enabled:!0,preload:[1,1]},callbacks:{beforeOpen:function(){this.st.el&&this.st.el.data("fixed-content")&&(this.fixedContentPos=!0)},open:function(){e.magnificPopup.instance.next=function(){var a=this;a.wrap.removeClass("mfp-image-loaded"),setTimeout((function(){e.magnificPopup.proto.next.call(a)}),120)},e.magnificPopup.instance.prev=function(){var a=this;a.wrap.removeClass("mfp-image-loaded"),setTimeout((function(){e.magnificPopup.proto.prev.call(a)}),120)},this.st.el&&this.st.el.data("av-extra-class")&&this.wrap.addClass(this.currItem.el.data("av-extra-class")),this.wrap.avia_swipe_trigger({prev:".mfp-arrow-left",next:".mfp-arrow-right"})},markupParse:function(a,t,i){if(void 0!==t.img_replaceWith&&void 0!==t.img_replaceWith.length&&0!=t.img_replaceWith.length){var o=e(t.img_replaceWith[0]);if(void 0===o.attr("alt")){var r=i.el.attr("alt");void 0===r&&(r=i.el.find("img").attr("alt")),void 0!==r&&o.attr("alt",r)}}},imageLoadComplete:function(){var e=this;setTimeout((function(){e.wrap.addClass("mfp-image-loaded")}),16)},change:function(){if(this.currItem.el){var e=this.currItem.el;if(this.content.find(".av-extra-modal-content, .av-extra-modal-markup").remove(),e.data("av-extra-content")){var a=e.data("av-extra-content");this.content.append("<div class='av-extra-modal-content'>"+a+"</div>")}if(e.data("av-extra-markup")){var t=e.data("av-extra-markup");this.wrap.append("<div class='av-extra-modal-markup'>"+t+"</div>")}}}}},e.fn.avia_activate_lightbox=function(a){var t=e.extend({},{groups:[".avia-slideshow",".avia-gallery",".av-horizontal-gallery",".av-instagram-pics",".portfolio-preview-image",".portfolio-preview-content",".isotope",".post-entry",".sidebar","#main",".main_menu",".woocommerce-product-gallery"],autolinkElements:'a.lightbox, a[rel^="prettyPhoto"], a[rel^="lightbox"], a[href$=jpg], a[href$=webp], a[href$=png], a[href$=gif], a[href$=jpeg], a[href*=".jpg?"], a[href*=".png?"], a[href*=".gif?"], a[href*=".jpeg?"], a[href$=".mov"] , a[href$=".swf"] , a:regex(href, .vimeo.com/[0-9]) , a[href*="youtube.com/watch"] , a[href*="screenr.com"], a[href*="iframe=true"]',videoElements:'a[href$=".mov"] , a[href$=".swf"] , a:regex(href, .vimeo.com/[0-9]) , a[href*="youtube.com/watch"] , a[href*="screenr.com"], a[href*="iframe=true"]',exclude:'.noLightbox, .noLightbox a, .fakeLightbox, .lightbox-added, a[href*="dropbox.com"]'},a);return!e("html").is(".av-custom-lightbox")?this.each((function(){for(var a=e(this),i=(e(t.videoElements,this).not(t.exclude).addClass("mfp-iframe"),!a.is("body")&&!a.is(".ajax_slide")),o=0;o<t.groups.length;o++)a.find(t.groups[o]).each((function(){var a=e(t.autolinkElements,this);i&&a.removeClass("lightbox-added"),a.not(t.exclude).addClass("lightbox-added").magnificPopup(e.avia_utilities.av_popup)}))})):this}}(jQuery);
